# NIKKE CArena Helper

NIKKE CArena Helper 是一款专为《胜利女神：妮姬》竞技场对局设计的自动化辅助工具。它能够自动管理对局录制、截取双方阵容，并利用 FFmpeg 将阵容信息与对局视频完美合成，帮助指挥官更高效地记录和分析战斗。

---

## 🌟 核心功能

- **自动化录制流程**：自动点击对局、监控结算界面、触发外部录屏软件。
- **阵容自动拼接**：在视频开头自动插入 2 秒的双方阵容对比图，对局信息一目了然。
- **智能文件管理**：自动从录屏软件的输出目录搬运视频到指定文件夹，并按赛季、阶段、局数自动命名。
- **多模式支持**：支持多种竞技场操作模式（应援、赛前分析、赛果复盘等），灵活适配不同需求。

---

## ⚠️ 重要依赖 (必读)

本程序并非独立录屏软件，它通过模拟热键来指挥外部软件工作。在使用前，请务必完成以下配置：

### 1. 外部录屏软件
程序依赖外部录屏软件进行实际的视频抓取。
- **推荐方案**：Nvidia GeForce Experience (Alt+Z) 或 OBS。
- **配置要求**：
  - 确保录屏软件已开启“即时重放”或“录制”功能。
  - 在程序设置中配置与录屏软件一致的**开始/停止热键**（默认 `Alt+F9`）。
  - 确保录屏软件的输出目录与程序中的“录屏源目录”一致。

### 2. FFmpeg 环境
程序使用 FFmpeg 进行视频后期合成。
- **下载地址**：[FFmpeg 官方下载](https://ffmpeg.org/download.html)
- **安装要求**：
  - 下载 Windows 版本的 `ffmpeg.exe`。
  - **必须**将 `ffmpeg.exe` 放置在程序的**根目录**下（即与 `NIKKE_CArena_Helper.exe` 同级）。

---

## 🚀 快速开始

### 环境准备
1. 克隆仓库或下载发行版。
2. 安装 Python 依赖（如果是运行源码）：
   ```bash
   pip install -r requirements.txt
   ```
3. 将 `ffmpeg.exe` 放入根目录。

### 使用步骤
1. **启动游戏**：将游戏设置为窗口模式（推荐分辨率 16:9 或等比例）。
2. **配置程序**：
   - 打开“模式10 录屏配置”。
   - 设置热键、源目录（录屏软件存片位置）和目标目录（你想保存的位置）。
   - 勾选本次要录制的对局（Match 1-5）。
3. **运行脚本**：点击“启动脚本”，程序将自动接管后续操作。

---

## 📂 目录结构说明

- `core/`: 核心逻辑，包含窗口控制、截图处理等。
- `modes/`: 不同的操作模式，`mode10.py` 为核心录屏逻辑。
- `gui/`: 基于 CustomTkinter 的图形界面。
- `assets/`: 程序所需的图标及 UI 资源。

---

## 🛠️ 常见问题 (FAQ)

**Q: 为什么视频没有合成阵容图？**
A: 请检查根目录下是否存在 `ffmpeg.exe`，以及“录屏源目录”设置是否正确。

**Q: 录屏软件没有反应？**
A: 请确保以管理员权限运行本程序，并检查热键是否冲突。

**Q: 视频命名中的“未知阶段”怎么修改？**
A: 在模式10配置界面中，可以手动选择“赛事阶段”（如：64进32、决赛等）。

---

## ⚖️ 免责声明
本工具仅供学习交流使用，通过模拟人工点击实现。请在遵守游戏相关条例的前提下使用，开发者不对因使用本工具导致的任何账号问题负责。
